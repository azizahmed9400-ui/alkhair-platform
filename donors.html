<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>شكر المتبرعين | منصة الخير</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <nav class="main-nav">
            <div class="logo">
                <a href="index.html">منصة الخير</a>
            </div>
            <ul>
                <li><a href="index.html#about-platform">عن المنصة</a></li>
                <li><a href="projects.html">المشاريع</a></li>
                <li><a href="news.html">الأخبار</a></li>
                <li><a href="team.html">الكادر المسؤول</a></li>
                <li><a href="donors.html">شكر المتبرعين</a></li>
                <li><a href="index.html#contact">اتصل بنا</a></li>
                <li><a href="add-project.html">إضافة مشروع</a></li>
            </ul>
        </nav>
        <div class="page-hero">
            <h1>شكر خاص لشركاء الخير</h1>
            <p>بفضل كرمكم وعطائكم، تتحقق المشاريع وتزدهر المجتمعات. شكراً لكم من القلب.</p>
        </div>
    </header>

    <main>
        <section class="donors-list-section section-container">
            <h2>قائمة المتبرعين الكرام</h2>
            <p>إليكم كوكبة من المتبرعين الذين أحدثوا فرقاً في حياة الكثيرين. عطاؤكم هو نور يضيء دروب المحتاجين.</p>

            <div class="filter-controls">
                <label for="project-filter">تصفية حسب المشروع:</label>
                <select id="project-filter">
                    <option value="all">جميع المشاريع</option>
                    <option value="road-paving">مشروع رصف طريق الحي</option>
                    <option value="mosque-renovation">مشروع ترميم مسجد النور</option>
                    <option value="school-renovation">مشروع ترميم مدرسة الأمل</option>
                    <option value="water-well">مشروع حفر بئر مياه</option>
                    <option value="orphanage-support">مشروع دعم الأيتام</option>
                    <option value="medical-camp">مشروع القافلة الطبية</option>
                </select>
            </div>

            <div class="donors-table-container">
                <table id="donors-table">
                    <thead>
                        <tr>
                            <th>الرقم</th>
                            <th>اسم المتبرع</th>
                            <th>المبلغ</th>
                            <th>المشروع</th>
                            <th>التاريخ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>فاعل خير</td><td>5000 ريال</td><td>مشروع رصف طريق الحي</td><td>2024-07-01</td></tr>
                        <tr><td>2</td><td>خالد السعدي</td><td>10000 ريال</td><td>مشروع رصف طريق الحي</td><td>2024-06-28</td></tr>
                        <tr><td>3</td><td>فاعل خير</td><td>20000 ريال</td><td>مشروع ترميم مسجد النور</td><td>2024-06-30</td></tr>
                        <tr><td>4</td><td>علياء محمد</td><td>7500 ريال</td><td>مشروع رصف طريق الحي</td><td>2024-06-20</td></tr>
                        <tr><td>5</td><td>مجموعة الشباب</td><td>20000 ريال</td><td>مشروع رصف طريق الحي</td><td>2024-06-18</td></tr>
                        <tr><td>6</td><td>عائلة الجمال</td><td>15000 ريال</td><td>مشروع ترميم مسجد النور</td><td>2024-06-27</td></tr>
                        <tr><td>7</td><td>فاعل خير</td><td>10000 ريال</td><td>مشروع ترميم مدرسة الأمل</td><td>2024-07-01</td></tr>
                        <tr><td>8</td><td>فهد العتيبي</td><td>3000 ريال</td><td>مشروع ترميم مدرسة الأمل</td><td>2024-06-25</td></tr>
                        <tr><td>9</td><td>سعاد القحطاني</td><td>8000 ريال</td><td>مشروع رصف طريق الحي</td><td>2024-06-15</td></tr>
                        <tr><td>10</td><td>فاعل خير</td><td>12000 ريال</td><td>مشروع ترميم مسجد النور</td><td>2024-06-22</td></tr>
                        <tr><td>11</td><td>أسرة الكرم</td><td>25000 ريال</td><td>مشروع ترميم مدرسة الأمل</td><td>2024-06-19</td></tr>
                        <tr><td>12</td><td>نواف السبيعي</td><td>4000 ريال</td><td>مشروع رصف طريق الحي</td><td>2024-06-10</td></tr>
                        <tr><td>13</td><td>امل الحربي</td><td>7000 ريال</td><td>مشروع ترميم مدرسة الأمل</td><td>2024-06-05</td></tr>
                        <tr><td>14</td><td>سامي الدوسري</td><td>9000 ريال</td><td>مشروع ترميم مسجد النور</td><td>2024-06-01</td></tr>
                        <tr><td>15</td><td>فاعل خير</td><td>6000 ريال</td><td>مشروع رصف طريق الحي</td><td>2024-05-28</td></tr>
                        <tr><td>16</td><td>عبدالله العلي</td><td>18000 ريال</td><td>مشروع حفر بئر مياه</td><td>2024-07-03</td></tr>
                        <tr><td>17</td><td>مؤسسة النماء</td><td>50000 ريال</td><td>مشروع دعم الأيتام</td><td>2024-06-20</td></tr>
                        <tr><td>18</td><td>ليلى الفهد</td><td>2500 ريال</td><td>مشروع القافلة الطبية</td><td>2024-07-01</td></tr>
                        <tr><td>19</td><td>أحمد الزهراني</td><td>10000 ريال</td><td>مشروع حفر بئر مياه</td><td>2024-06-29</td></tr>
                        <tr><td>20</td><td>جمعية الإحسان</td><td>30000 ريال</td><td>مشروع دعم الأيتام</td><td>2024-06-15</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="pagination-controls">
                <button id="prev-page" class="button secondary" disabled>السابق</button>
                <span id="page-info">الصفحة 1 من 1</span>
                <button id="next-page" class="button secondary" disabled>التالي</button>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 منصة الخير. جميع الحقوق محفوظة.</p>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // JavaScript لمعالجة التصفية والتقسيم (Pagination)
        document.addEventListener('DOMContentLoaded', () => {
            const donorsData = [
                { id: 1, name: 'فاعل خير', amount: 5000, project: 'مشروع رصف طريق الحي', projectId: 'road-paving', date: '2024-07-01' },
                { id: 2, name: 'خالد السعدي', amount: 10000, project: 'مشروع رصف طريق الحي', projectId: 'road-paving', date: '2024-06-28' },
                { id: 3, name: 'فاعل خير', amount: 20000, project: 'مشروع ترميم مسجد النور', projectId: 'mosque-renovation', date: '2024-06-30' },
                { id: 4, name: 'علياء محمد', amount: 7500, project: 'مشروع رصف طريق الحي', projectId: 'road-paving', date: '2024-06-20' },
                { id: 5, name: 'مجموعة الشباب', amount: 20000, project: 'مشروع رصف طريق الحي', projectId: 'road-paving', date: '2024-06-18' },
                { id: 6, name: 'عائلة الجمال', amount: 15000, project: 'مشروع ترميم مسجد النور', projectId: 'mosque-renovation', date: '2024-06-27' },
                { id: 7, name: 'فاعل خير', amount: 10000, project: 'مشروع ترميم مدرسة الأمل', projectId: 'school-renovation', date: '2024-07-01' },
                { id: 8, name: 'فهد العتيبي', amount: 3000, project: 'مشروع ترميم مدرسة الأمل', projectId: 'school-renovation', date: '2024-06-25' },
                { id: 9, name: 'سعاد القحطاني', amount: 8000, project: 'مشروع رصف طريق الحي', projectId: 'road-paving', date: '2024-06-15' },
                { id: 10, name: 'فاعل خير', amount: 12000, project: 'مشروع ترميم مسجد النور', projectId: 'mosque-renovation', date: '2024-06-22' },
                { id: 11, name: 'أسرة الكرم', amount: 25000, project: 'مشروع ترميم مدرسة الأمل', projectId: 'school-renovation', date: '2024-06-19' },
                { id: 12, name: 'نواف السبيعي', amount: 4000, project: 'مشروع رصف طريق الحي', projectId: 'road-paving', date: '2024-06-10' },
                { id: 13, name: 'امل الحربي', amount: 7000, project: 'مشروع ترميم مدرسة الأمل', projectId: 'school-renovation', date: '2024-06-05' },
                { id: 14, name: 'سامي الدوسري', amount: 9000, project: 'مشروع ترميم مسجد النور', projectId: 'mosque-renovation', date: '2024-06-01' },
                { id: 15, name: 'فاعل خير', amount: 6000, project: 'مشروع رصف طريق الحي', projectId: 'road-paving', date: '2024-05-28' },
                { id: 16, name: 'عبدالله العلي', amount: 18000, project: 'مشروع حفر بئر مياه', projectId: 'water-well', date: '2024-07-03' },
                { id: 17, name: 'مؤسسة النماء', amount: 50000, project: 'مشروع دعم الأيتام', projectId: 'orphanage-support', date: '2024-06-20' },
                { id: 18, name: 'ليلى الفهد', amount: 2500, project: 'مشروع القافلة الطبية', projectId: 'medical-camp', date: '2024-07-01' },
                { id: 19, name: 'أحمد الزهراني', amount: 10000, project: 'مشروع حفر بئر مياه', projectId: 'water-well', date: '2024-06-29' },
                { id: 20, name: 'جمعية الإحسان', amount: 30000, project: 'مشروع دعم الأيتام', projectId: 'orphanage-support', date: '2024-06-15' }
            ];

            const donorsTableBody = document.getElementById('donors-table').querySelector('tbody');
            const projectFilter = document.getElementById('project-filter');
            const prevPageBtn = document.getElementById('prev-page');
            const nextPageBtn = document.getElementById('next-page');
            const pageInfoSpan = document.getElementById('page-info');

            let currentPage = 1;
            const rowsPerPage = 10; // عدد الصفوف في كل صفحة

            function displayDonors(data) {
                donorsTableBody.innerHTML = ''; // مسح المحتوى الحالي للجدول
                const start = (currentPage - 1) * rowsPerPage;
                const end = start + rowsPerPage;
                const paginatedData = data.slice(start, end);

                if (paginatedData.length === 0) {
                    donorsTableBody.innerHTML = '<tr><td colspan="5" style="text-align: center;">لا توجد تبرعات لعرضها في هذه الفئة.</td></tr>';
                }

                paginatedData.forEach((donor, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${start + index + 1}</td>
                        <td>${donor.name}</td>
                        <td>${donor.amount.toLocaleString()} ريال</td>
                        <td>${donor.project}</td>
                        <td>${donor.date}</td>
                    `;
                    donorsTableBody.appendChild(row);
                });

                updatePaginationControls(data.length);
            }

            function filterAndDisplayDonors() {
                const selectedProject = projectFilter.value;
                let filteredData = donorsData;

                if (selectedProject !== 'all') {
                    filteredData = donorsData.filter(donor => donor.projectId === selectedProject);
                }

                currentPage = 1; // إعادة تعيين الصفحة عند التصفية
                displayDonors(filteredData);
            }

            function updatePaginationControls(totalRows) {
                const totalPages = Math.ceil(totalRows / rowsPerPage);
                pageInfoSpan.textContent = `الصفحة ${currentPage} من ${totalPages}`;

                prevPageBtn.disabled = currentPage === 1;
                nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
            }

            // الاستماع لتغيير الفلتر
            projectFilter.addEventListener('change', filterAndDisplayDonors);

            // الاستماع لأزرار التنقل بين الصفحات
            prevPageBtn.addEventListener('click', () => {
                const selectedProject = projectFilter.value;
                let filteredData = donorsData;
                if (selectedProject !== 'all') {
                    filteredData = donorsData.filter(donor => donor.projectId === selectedProject);
                }

                if (currentPage > 1) {
                    currentPage--;
                    displayDonors(filteredData);
                }
            });

            nextPageBtn.addEventListener('click', () => {
                const selectedProject = projectFilter.value;
                let filteredData = donorsData;
                if (selectedProject !== 'all') {
                    filteredData = donorsData.filter(donor => donor.projectId === selectedProject);
                }

                const totalPages = Math.ceil(filteredData.length / rowsPerPage);
                if (currentPage < totalPages) {
                    currentPage++;
                    displayDonors(filteredData);
                }
            });

            // عرض البيانات عند تحميل الصفحة لأول مرة
            filterAndDisplayDonors();
        });
    </script>
</body>
</html>
